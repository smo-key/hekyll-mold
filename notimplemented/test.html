<html>
  <head><title>Mold test</title></head>
  <body>
    <script src="mold.js"></script>
    <script>
      window.onload = function() {
        Mold.define("str", Mold.bake("<strong><?t $arg?></strong>"));
        var test = "<p><?r $node.style.color = \"blue\";?><?label goo?><?t 5 + 5?> ... \"<?if $arg == 5?><?str \"bye\"?><?if.?>\"</p>\n" +
          "<ul><?for x [5, \n6, 7]?><li><?event click alert(x);?><?l li?><?t x?></li><?for.?></ul>\n" +
          "<p><?for n, v in {a: 1, b: 2, c: 3}?><?if $i > 0?> and <?if.?><?t n?> = <i><?t v?><?for.?></p>";
        window.mold = Mold.bake(test);
        window.vars = Mold.cast(document.getElementById('target'), mold, 5);
        if (window.vars.goo.nodeName != "P") alert("Label failed.");
      };
    </script>
    <strong>Mold test:</strong>
    <div id='target'>...<br/></div>
  </body>
</html>
